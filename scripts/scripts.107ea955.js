(function(){"use strict";angular.module("doraFrontApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","ui.grid","ngProgress"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).otherwise({redirectTo:"/"})}])}).call(this),function(){"use strict";angular.module("doraFrontApp").controller("MainCtrl",["$scope","Clj",function(a,b){return a.url="",a.expr="",a.send=function(){return console.log(a.url),a.expr='(str "lol" "'+a.url+'")',console.log(a.expr),a.data=b.evalClojure(a.expr).jresult},a.watch(function(){return b.getReturn()},function(b){return refresh(),console.log("new return: ",b),a.data=b.jresult})}])}.call(this),function(){"use strict";angular.module("doraFrontApp").factory("Clj",["$http","$resource","$routeParams","$rootScope",function(a,b,c,d){var e;return e=c.expr?{result:"Connecting",jresult:[{data:"Connecting"}],tipo:{tipo:"string"}}:{result:"Ready",jresult:[{data:"Ready"}],tipo:{tipo:"string"}},{getReturn:function(){return e},evalClojure:function(b){return console.log("evalClojure is called, with code: ",b),a.post("http://fractal-api.fractal.ai",{expr:b}).then(function(a){return e=a.data,console.log("reset data",a.data),a.data},function(){return console.log("ERROR in $scope.eval_clojure")})},evalNoSet:function(b){return a.post("http://fractal-api.fractal.ai",{expr:b}).then(function(a){return a.data},function(){return console.log("ERROR in $scope.eval_clojure")})}}}])}.call(this),function(){"use strict";angular.module("doraFrontApp").controller("AboutCtrl",["$scope","Clj","$http",function(a,b,c){return a.revisar=function(){return console.log("revisando...",a.url),c({method:"GET",url:'http://fractal-api.fractal.ai/?expr=(validate "'+a.url+'")'}).then(function(b){return a.data=b.data.jresult,console.log("then: ",b.data.jresult)})}}])}.call(this),angular.module("doraFrontApp").run(["$templateCache",function(a){"use strict";a.put("views/about.html",'<input ng-model="url"> <a class="btn btn-lg btn-success" ng-click="revisar()">Revisar!</a> <div ui-grid="{data: data}"></div>'),a.put("views/main.html",'<div class="jumbotron"> <h1>Revisa la calidad de tus datos!</h1> <p class="lead"> <br> Ingresa la URL de un recurso para revisar problemas en la calidad del recurso de datos. </p> <p><input ng-model="url"></p> <p><a class="btn btn-lg btn-success" ng-click="send()">Revisar!<span class="glyphicon glyphicon-ok"></span></a></p> </div> {{data}} <div class="row marketing"> <h4>Validaciones hechas por la comunidad</h4> <p> <!-- La comunidad México Abierto genera continuamente nuevos programas que identifican problemas potenciales en tus recursos de datos. Es un esfuerzo de todos para mejorar la calidad de los datos abiertos en México. --> </p> </div>')}]);